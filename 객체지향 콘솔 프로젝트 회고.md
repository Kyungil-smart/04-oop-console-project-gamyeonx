
# 객체지향 콘솔 프로젝트 회고

## 프로젝트 개요

- **진행 기간**: 5일
- **개발 환경**: C# / .NET Console
- **프로젝트 목표**
  - C# 기본 문법(조건문, 반복문, 배열, 메서드)을 실제 코드에 적용한다.
  - 클래스를 활용하여 데이터를 구조화하고 책임을 분리한다.
  - 콘솔 환경에서 게임의 흐름(입력 → 처리 → 출력)을 직접 구현한다.

## 구현한 게임 설명

- **게임 장르** : 미로탈출 퍼즐 게임
- **핵심 규칙**
  - 던전내의 몬스터들을 피하고, 다음층으로 향한다.
  - 최종적으로 아기 초코보를 구출하면 클리어.
- **플레이 흐름**
  1. 게임 시작 : 오프닝이 흐르고, 게임 조작체계를 시험 할 튜토리얼 스테이지에서 시작한다.
  2. 입력 처리 : 위, 아래, 좌, 우 화살표로 이동한다.
  3. 상태 변경 : 플레이어는 벽을 넘을 수 없고, 몬스터에게 닿으면 게임오버, 다음층의 구멍에 돌입하면, 다음 스테이지 시작.
  4. 결과 출력 : 죽거나, 클리어 했을 때, 효과음이 나오고, 게임을 클이어하면 엔딩이 나온다.
  5. 2~4 반복 : 1(튜토리얼 스테이지) ~ 4 스테이지를 반복문을 통해, 각각 반복 출력한다.

## 설계 구조

### 주요 클래스

- `GameManager`  
  - 게임 전체 흐름을 관리
- `MovePlayer`
  - 플레이어의 조작체계를 관리하고, 플레이어의 다음 좌표 및 캐릭터 판정을 관리.
- `Dungeon`
  - 게임의 스테이지를 출력 및 관리, 몬스터 및 플레이어의 스폰지역을 랜덤으로 배치한다.
- `Scene`
  - 오프닝 및 엔딩 장면을 구현
- `Object` 
  - 각종 오브젝트 관리(캐릭터 및 몬스터 포함), 각 오브젝트의 좌표를 저장할 구조체 제공.
- `Story` 
  - 게임의 조작 및 목표, 세부사항을 UI 로서 표시해준다.
- `그 외` 플레이어 및 몬스터의 키 입력 체크, 좌표 저장, 이동 성공여부 판정 클래스들이 있다.

### 클래스 간 관계

- 어떤 클래스가 어떤 책임을 가지는지
  - `Player` 클래스가 플레이어의 위치 좌표를, 조작키 입력 체크, 다음 위치로 이동하기 위한 `Move` 함수 제공.
  - `MovePlayer` 클래스가 키 입력시 다음좌표 설정, 던전내의 오브젝트 판정, 플레이어를 다음 좌표로 움직임
  - `Dungeon` 클래스가 스테이지의 크기 및 오브젝트 배치.
- 서로 어떤 방식으로 협력하는지
  - `Player` 클래스가 위치 좌표, 조작키 입력체크, `Move` 함수를 제공하면, `MovePlayer`에서 키를 입력하면 이동할 다음 좌표를 생성 및, `Move` 함수를 사용, `Dungeon` 클래스가 해당 스테이지 좌표 및 플레이어를 배치해준다.
  - `Monster` 및 `MoveMonster`도 이와 동일

## 사용한 C# 개념

- 클래스 / 객체
- 구조체 
- 생성자 / `Init()` 함수
- 접근 제한자 (`public`, `private`)
- 배열
- 조건문 / 반복문

## 잘했다고 생각하는 점

- 클래스를 역할 단위로 분리하려고 노력했다.
- 콘솔 출력 정렬이나 가독성을 고려했다.
- 단일 스테이지가 아닌 복수의 스테이지를 구현
- 게임 디자인에 신경을 썼다.
- 게임이 오프닝, 플레이, 엔딩으로 완성된 하나의 게임을 만들었다.

## 아쉬웠던 점 / 어려웠던 점

- 기존에 제공해 주었던 프레임워크를 활용하지 못한 점.
- 몬스터의 AI를 구현하지 못해서 눈속임으로 그럴듯하게 속였다.
- 기존의 컨셉을 포기하고, 쉬운길을 선택해 게임을 완성한 것.(장르 변경)

## 다시 만든다면 개선하고 싶은 점

- 좀 더 객체지향적인 구조로 코딩을 하고싶다.
- 몬스터 AI를 구현하고싶다.
- 원래 하려던 로그라이크 RPG 장르로 구현하고 싶다.

## 이번 프로젝트를 통해 배운 점

- 게임을 완성하는게 중요하다.
- 복잡한 기능 없이도, 있는 재료를 적재적소에 활용하면 그럴듯 한 게임을 만들 수 있다.
- 생성자가 아닌 Init() 함수를 사용하면, 객체가 생성된 이후 원하는 시점에 필드 값을 초기화하거나 필요한 설정을 수행할 수 있다.
- ```cs 
  // 이렇게 하면 키를 두번 입력받아 두 객체가 동시에 움직여 게임이 부자연스럽지만
  ConsoleKey inputKey = _monster.UserInput();
  ConsoleKey inputKey = _player.UserInput();
  Result result = _movePlayer_01.PlayerMove(inputKey);
  Result result2 = _moveMonster.MonsterMove(inputKey);
  -----------------------------------------------------
  // 이렇게 하면 한번만 키 입력을 받고 두 객체(여러객체)가 한번에 움직인다.
  ConsoleKey inputKey = Console.ReadKey(true).Key;
  Result result = _movePlayer_01.PlayerMove(inputKey);
  Result result2 = _moveMonster.MonsterMove(inputKey);
  // 즉 콘솔 특성상 절차진행 할 수 밖에 없기 때문에 매끄러운 게임 환경을 위해
  // 과감히 욕심을 포기할 줄 도 알아야하고, 저런식으로 한번에 처리할 수 있는건
  // 여러번에 처리하면 안된다는 것도 깨닫았다.
```

## 한 줄 총평

C# 문법을 더 복습해야하고, 내 게임은 포장을 잘 한 똥덩어리였다.