# 만들고 있는 게임: 던전 탈출게임

**김재성 강사님**의 **프레임워크**를 이용하여 게임을 만들려고 했지만,

저의 수준에서는 응용할 수준이 안되었습니다.

**소코반 게임기반**으로 **던전 탈출게임**을 목표로 만들고 있습니다.

캐릭터 및 UI등은 미모지를 활용하였습니다.

게임이 너무 빈약해 보여서, 오프닝씬과 엔딩씬만 AI를 이용해 만들었습니다.

게임의 베이스는 **최영민 강사님**의 객체지향 소코반게임을 베이스로,

혼자서 만들어보려고 했지만, 강의 영상을 다시보고, 강사님의 코드를 다시보고 하다보니, 결국 베낀 형태가 돼버렸습니다.

그냥 객체지향 향만 살짝나는 절차지향의 코드가 되어버린 느낌입니다.

일단 게임은 만들었지만, 너무 부족함을 스스로 느낍니다.

---

게임을 만듦에 있어, 스테이지 장면전환은 while문이 끝나면 다음 while문이 등장하는 식으로 처리하였습니다.

문제는 플레이어가 스테이지에 넘어가지 못하는 것이었는데, 다음 while문에 기존 플레이어 인스턴스를 등록하는 방식으로 하려고, 예를들면 GameManager의 Init()은 첫번째 스테이지 셋팅용이고, 두번째 스테이지 셋팅용인 Init2()에도 같은 플레이어를 넣었더니 게임이 터지는 상황이 발생하여, 한참을 이리저리 하던차에, 그냥 스테이지2용 플레이어를 생성하는 방식으로, 4스테이지에 대응하는 4플레이어와, 소코반게임용 코드에 누더기로 넣다보니, 움직임을 담당하는 함수를 또 4스테이지와 4플레이어에 대응하게 4가지를 만들었습니다.

몬스터 역시, 그런방식으로 필요한만큼 클래스를 만들었고, 김재성 강사님이 강의 하셨던 BFS 코드를 이용하고 싶었지만, 응용을 못하는 처참한 코딩 실력으로,
플레이어키 입력을 같이 받아서, 여러 방향으로 움직이게 설계했습니다.

여기서
```cs
ConsoleKey inputKey = _player.UserInput();
ConsoleKey inputKey = _monster.UserInput();

 Result result = _movePlayer_01.PlayerMove(inputKey);
 Result result2 = _moveMonster.MonsterMove(inputKey);
```
이런식으로 처리를 하였지만, 이상하게 키를 2번 입력해야지만, 캐릭터와 몬스터가 움직였기에 좋은 표현이 따로 생각않나 삽질이라 하겠습니다. 삽질을 하다가, 

```cs
ConsoleKey inputKey = Console.ReadKey(true).Key;

Result result = _movePlayer_01.PlayerMove(inputKey);
Result result2 = _moveMonster.MonsterMove(inputKey);
```

이런식으로 키입력을 한번만 체크? 하게끔 했습니다.
그랬더니 입력한번에 동시에 잘 움직였습니다.